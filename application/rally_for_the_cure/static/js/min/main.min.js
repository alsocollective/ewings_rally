/*
       d8888  .d8888b.  888       .d88888b.         .d8888b.           888 888                   888    d8b
      d88888 d88P  Y88b 888      d88P" "Y88b       d88P  Y88b          888 888                   888    Y8P
     d88P888 Y88b.      888      888     888       888    888          888 888                   888
    d88P 888  "Y888b.   888      888     888       888         .d88b.  888 888  .d88b.   .d8888b 888888 888 888  888  .d88b.
   d88P  888     "Y88b. 888      888     888       888        d88""88b 888 888 d8P  Y8b d88P"    888    888 888  888 d8P  Y8b
  d88P   888       "888 888      888     888       888    888 888  888 888 888 88888888 888      888    888 Y88  88P 88888888
 d8888888888 Y88b  d88P 888      Y88b. .d88P       Y88b  d88P Y88..88P 888 888 Y8b.     Y88b.    Y88b.  888  Y8bd8P  Y8b.
d88P     888  "Y8888P"  88888888  "Y88888P"         "Y8888P"   "Y88P"  888 888  "Y8888   "Y8888P  "Y888 888   Y88P    "Y8888
*/function getVersion(e){return navigator.sayswho.length<=2?!1:e?parseInt(navigator.sayswho[2][0])>e:!1}function detectIfBellowGuests(e){$("#attenders").offset().top<0?$(this).addClass("back-white"):$(this).removeClass("back-white")}function preLoadImages(){for(var e=0,t=imagesToPreLoad.length;e<t;++e){var n=new Image;n.src=imagesToPreLoad[e]}}function setURLOnScroll(e){if(this.id=="carousel"||this.id=="spacer"){setURL(" ");return!1}setURL(this.id)}function menu_nav_click(e){e.preventDefault();if(slideMenu&&slideMenu.clickable()){e.preventDefault;return!1}phone&&slideMenu.refindHeight();var t=this.href.split("/");animateScroll("#"+t[t.length-1]);$("#nav").removeClass("slideout");setTimeout(toggleTall,1e3);return!1}function hideNavMenue(){if(!showing_nav){showing_nav=!0;setTimeout(function(){showing_nav=!1},1e3)}}function toggleOut(){var e=$("#nav");if(e.hasClass("slideout")){e.removeClass("slideout");setTimeout(toggleTall,1e3)}else{e.addClass("slideout");setTimeout(toggleTall,1e3)}}function toggleTall(){var e=$("#nav");e.hasClass("tall")?e.removeClass("tall"):e.addClass("tall")}function navSlideClick(e){if(carousel_sliding)return!1;$("#carousel .active").removeClass("active");$(this).addClass("active");var t=this.id;changeSlide($($("#carousel .heighlight")[0]),$($("#carousel").children()[parseInt(t)]));resetCarouselAuto()}function carouselAuto(){var e=6e3;checkIfLong()&&(e=3e4);slideCountDown=setTimeout(clickHeighlightCarosel,e)}function resetCarouselAuto(){var e=6e3;checkIfLong()&&(e=3e4);clearTimeout(slideCountDown);slideCountDown=setTimeout(clickHeighlightCarosel,e)}function clickHeighlightCarosel(){$("#carousel .heighlight").click()}function checkIfLong(){return!$("#carousel .heighlight img").length}function newSlide(e){var t=$(this),n=getNextSlide(t);nextCaroselNav();changeSlide(t,n);resetCarouselAuto()}function nextCaroselNav(){if(carousel_sliding)return!1;var e=$("#carousel .active");e.removeClass("active");e.is(":last-child")?$($("#carousel-nav").children()[0]).addClass("active"):e.next().addClass("active")}function changeSlide(e,t){if(carousel_sliding)return!1;e.removeClass("heighlight");e.removeClass("text");makeSlideOff(e);t.addClass("heighlight");t.removeClass("off");fadeInText(t);waitOutCarosel()}function fadeInText(e){e=makeInToJqueryElementIfNeeded(e);setTimeout(function(){e.addClass("text")},1500)}function getNextSlide(e){e=makeInToJqueryElementIfNeeded(e);return e.is(":last-child")?$($(e[0].parentNode).children()[1]):e.next()}function makeSlideOff(e){e=makeInToJqueryElementIfNeeded(e);setTimeout(function(){e.addClass("off")},1e3)}function waitOutCarosel(){carousel_sliding=!0;setTimeout(function(){carousel_sliding=!1},1500)}function makeInToJqueryElementIfNeeded(e){e instanceof jQuery||(e=$(e));return e}function hide_carocel(e){e=="up"?carousel_conatiner.removeClass("dis-none"):carousel_conatiner.hasClass("dis-none")||carousel_conatiner.addClass("dis-none")}function loadGoogleMaps(e){e=="down"&&$("#map-container").children().length==0&&loadScript()}function gmaploaded(){var e=new google.maps.LatLng(43.8613492,-79.3667179),t={zoom:13,center:e,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,streetViewControl:!1,streetViewControl:!1,panControl:!1,rotateControl:!1,zoomControl:!1,styles:[{stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#26264d"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#4d4d72"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ececf4"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"on"},{color:"#ffa07c"}]},{featureType:"transit",stylers:[{color:"#d38080"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffa719"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#2c2c5b"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]}]};map=new google.maps.Map(document.getElementById("map-container"),t);var n=[];for(var r=0,i=map_location.length;r<i;++r)n.push(makeIcon(map_location[r][0],map_location[r][1],map_location[r][2],map_location[r][3]));map_all_locations=n;phone||makeLegend(n);setTimeout(function(){$("#map-loading").addClass("fade");setTimeout(function(){$("#map-loading").addClass("off")},1e3)},1e3)}function makeLegend(e){var t=document.getElementById("map"),n=document.createElement("ul");n.id="legend";t.appendChild(n);for(var r=0,i=e.length;r<i;++r)(function(){var t=e[r],i=document.createElement("li");i.className=t[3];var s=document.createElement("a");s.className=t[3];s.href="#";s.innerHTML=t[1].title;i.appendChild(s);n.appendChild(i);$(s).click(function(e){e.preventDefault();closeAllTabs();map.panTo(t[2]);t[0].open(map,t[1]);t[3]=="pilots"?map.setZoom(12):t[3]=="drivers"?map.setZoom(14):map.setZoom(16);return!1})})(r);var s=document.createElement("li");s.id="controll-pannel";n.appendChild(s);var o=document.createElement("a"),u=document.createElement("a");s.appendChild(o);s.appendChild(u);o.innerHTML="+";$(o).click(function(){map.setZoom(map.getZoom()+1)});u.innerHTML="-";$(u).click(function(){map.setZoom(map.getZoom()-1)})}function closeAllTabs(){for(var e=0,t=map_all_locations.length;e<t;++e)map_all_locations[e][0].close()}function makeIcon(e,t,n,r){var t=new google.maps.LatLng(t[0],t[1]),i=new google.maps.InfoWindow({content:"<div class='info-box'><h2>"+e+"</h2><p>"+n+"</p></div>",display:!1}),s={url:staticLink+"assets/icons/icon-loc-"+r+".png",size:new google.maps.Size(26,47.5),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(26,47.5),scaledSize:new google.maps.Size(26,47.5)},o=new google.maps.Marker({position:t,map:map,title:e,icon:s});google.maps.event.addListener(o,"click",function(){closeAllTabs();map.panTo(t);isInfoWindowOpen(i)?i.close():i.open(map,o)});return[i,o,t,r]}function isInfoWindowOpen(e){var t=e.getMap();return t!==null&&typeof t!="undefined"}function loadScript(){var e=document.createElement("script");e.type="text/javascript";e.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=gmaploaded";document.body.appendChild(e)}function fadeInSponsers(){setTimeout(function(){fadeInNext($(".sponsor"),0)},200)}function fadeInNext(e,t){$(e[t]).fadeIn("slow");t+=1;if(t>e.length)return!1;setTimeout(function(){fadeInNext(e,t)},500)}function scrollFromCarocel(e){if(scrolling)return!1;if(e=="down"&&$(window).scrollTop()<500){scrolling=!0;$("html, body").animate({scrollTop:$("#about").offset().top},1e3,function(){scrolling=!1})}}function nav_yellow_white(e){e=="up"?$("body").removeClass("white-nav").addClass("yellow-nav"):$("body").removeClass("yellow-nav").addClass("white-nav")}function nav_white_blue(e){e=="up"?$("body").removeClass("blue-nav").addClass("white-nav"):$("body").removeClass("white-nav").addClass("blue-nav")}function nav_blue_yellow(e){e=="up"?$("body").removeClass("yellow-nav").addClass("blue-nav"):$("body").removeClass("blue-nav").addClass("yellow-nav")}function setMarginTop(){$("#spacer").css({"margin-top":$(window).outerHeight()});$("body, html, #carousel").height($(window).outerHeight())}function stopScrollIfScrolling(e){if(scrolling){e.preventDefault();return!1}}function animateScroll(e){if(scrolling)return!1;if(e){scrolling=!0;$("html, body, #scroller-container").animate({scrollTop:$(e).offset().top+$("#scroller-container").scrollTop()},500,function(){scrolling=!1})}else console.log("ERROR: No element passed into animateScroll")}function setURL(e){Object.prototype.toString.call(e)==="[object Array]"&&(e=e[e.length-1]);history&&history.pushState?history.pushState(e,"",e):window.location.replace("#"+e)}function setUpMap(){}function loadMapOnClick(){var e=$(this).children()[0];e.style.opacity="0";setTimeout(function(){e.innerHTML="Loading Map";e.style.opacity="1";loadGoogleMaps("down")},500)}function moveContact(){}function checkPhoneHeight(){if(!phone)return!1;var e=$(window).width();if(winWidth!=e){$("body, html, #carousel").height($("body").height());winWidth=e}}var canclescrller=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.appVersion.indexOf("Win")!=-1;navigator.sayswho=function(){var e=navigator.userAgent||navigator.vendor||window.opera,t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];if(/trident/i.test(n[1])){t=/\brv[ :]+(\d+(\.\d+)?)/g.exec(e)||[];return"IE "+(t[1]||"")}n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"];(t=e.match(/version\/([\.\d]+)/i))!=null&&(n[2]=t[1]);return n}();var svgToPng=navigator.sayswho[0]=="Safari"&&getVersion(6);if(svgToPng){var svg=$("#guests svg")[0],parent=svg.parentNode,image=new Image;svg.style.display="none";image.src="http://also-static.com/rallyforthecure/static/assets/icons/ic-people.png";parent.insertBefore(image,svg);svg=$("#pilots svg")[0];parent=svg.parentNode;image=new Image;svg.style.display="none";image.src="http://also-static.com/rallyforthecure/static/assets/icons/ic-plane.png";parent.insertBefore(image,svg);svg=$("#drivers svg")[0];parent=svg.parentNode;image=new Image;svg.style.display="none";image.src="http://also-static.com/rallyforthecure/static/assets/icons/ic-car.png";parent.insertBefore(image,svg)}if(deskTop&&skrollr)if(!canclescrller)skrollr.init({forceHeight:!1});else{document.getElementById("background-image-container").style.overflow="visible";var el=document.getElementById("background-2");el.parentNode.removeChild(el)}var carousel_sliding=!1,carousel_conatiner=!1,windowHeight=$(window).outerHeight(),scrolling=!0,showing_nav=!1,slideMenu=!1,winWidth=0,sldNum=1,slideCountDown=!1;checkPhoneHeight();$(window).resize(setMarginTop);setMarginTop();$(document).ready(function(){carousel_conatiner=$("#carousel");$(".slide").click(newSlide);$(".slide-nav").click(navSlideClick);$(".nav-clicker").click(menu_nav_click);$("#click-away").click(hideNavMenue);carouselAuto();if(deskTop){$("#dimond").click(function(){scrollFromCarocel("down")});$("#nav-button").click(toggleOut);$("#about").waypoint(hide_carocel);$("#map").waypoint(loadGoogleMaps);$("#sponsors").waypoint(fadeInSponsers,{offset:100});$("#sponsors").waypoint(hideNavMenue,{offset:-50});$(window).mousewheel(stopScrollIfScrolling);$(window).scrollTop()<50&&$("#carousel").waypoint(scrollFromCarocel,{offset:-100});$("#attenders").waypoint(nav_yellow_white);$("#map").waypoint(nav_white_blue);$("#sponsors").waypoint(nav_blue_yellow);$(document).scrollsnap({snaps:".snap",proximity:100,offset:2})}else if(!tablet&&phone){slideMenu=$("#nav-container").pullSlider({inmode:!0,debug:!1});setUpMap();moveContact()}});$(window).load(function(){if(phone){slideMenu.manualResize();slideMenu.refindHeight();$("#scroller-container").scroll(detectIfBellowGuests)}preLoadImages();setTimeout(function(){$("#loading-screen").fadeOut("slow");scrolling=!1;setTimeout(function(){$(".heighlight").addClass("text")},1e3)},1e3)});var map,map_all_locations;